!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Fortnight=e():t.Fortnight=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){var n="Expected a function",r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,c=/^0o[0-7]+$/i,a=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,l=d||s||Function("return this")(),p=Object.prototype.toString,v=Math.max,h=Math.min,b=function(){return l.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==o}(t))return r;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=f.test(t);return n||c.test(t)?a(t.slice(2),n?2:8):u.test(t)?r:+t}t.exports=function(t,e,r){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(n);return y(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),function(t,e,r){var o,i,u,f,c,a,d=0,s=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(n);function w(e){var n=o,r=i;return o=i=void 0,d=e,f=t.apply(r,n)}function m(t){var n=t-a;return void 0===a||n>=e||n<0||l&&t-d>=u}function x(){var t=b();if(m(t))return j(t);c=setTimeout(x,function(t){var n=e-(t-a);return l?h(n,u-(t-d)):n}(t))}function j(t){return c=void 0,p&&o?w(t):(o=i=void 0,f)}function E(){var t=b(),n=m(t);if(o=arguments,i=this,a=t,n){if(void 0===c)return function(t){return d=t,c=setTimeout(x,e),s?w(t):f}(a);if(l)return c=setTimeout(x,e),w(a)}return void 0===c&&(c=setTimeout(x,e)),f}return e=g(e)||0,y(r)&&(s=!!r.leading,u=(l="maxWait"in r)?v(g(r.maxWait)||0,e):u,p="trailing"in r?!!r.trailing:p),E.cancel=function(){void 0!==c&&clearTimeout(c),d=0,o=a=i=c=void 0},E.flush=function(){return void 0===c?f:j(b())},E}(t,e,{leading:o,maxWait:e,trailing:i})}}).call(this,n(0))},function(t,e,n){"use strict";t.exports=function(t,e){void 0===e&&(e={});var n=e.offset;void 0===n&&(n=0);var r=e.threshold;void 0===r&&(r=0);var o=t.getBoundingClientRect(),i=o.top,u=o.right,f=o.bottom,c=o.left,a=o.width,d=o.height,s=f,l=window.innerWidth-c,p=window.innerHeight-i,v=u,h=r*a,b=r*d;return s>=(n.top||n+b)&&l>=(n.right||n+h)&&p>=(n.bottom||n+b)&&v>=(n.left||n+h)}},function(t,e,n){"use strict";var r=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}var i="data-fortnight-view",u=function(){for(var t=[],e=document.querySelectorAll("["+i+'="pending"]'),n=0;n<e.length;n+=1)t.push(e[n]);return t},f=function(t){if((0,r.default)(t)){t.setAttribute(i,"sent");var e=t.getAttribute("data-fortnight-beacon");if(e){var n=document.createElement("a");n.href=e;var o=Date.now(),u=n.search?n.search+"&_="+o:"?_="+o;n.search=u,(new Image).src=n.href}}},c=(0,o(n(1)).default)(function(){u().forEach(f)},200);document.addEventListener("DOMContentLoaded",function(){u().forEach(f),window.MutationObserver&&new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&Array.prototype.slice.call(t.addedNodes).filter(function(t){return t.nodeType===Node.ELEMENT_NODE}).filter(function(t){return"pending"===t.getAttribute(i)}).forEach(f)})}).observe(document.body,{childList:!0,subtree:!0})}),window.addEventListener("scroll",c),window.addEventListener("resize",c)},function(t,e,n){t.exports=n(3)}])});
//# sourceMappingURL=fortnight.min.js.map